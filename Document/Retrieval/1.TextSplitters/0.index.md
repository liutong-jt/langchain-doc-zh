# 文本分割器

一旦您加载了文档，您通常会希望将它们转换为更适合您的应用程序的形式。最简单的例子是，您可能希望将长文档分割成更小的块，这些块可以适应您的模型的上下文窗口。LangChain具有一些内置的文档转换器，可以轻松地分割、组合、过滤和操作文档。

当您需要处理长文本时，有必要将文本分割成块。这听起来很简单，但这里有很多潜在的复杂性。理想情况下，您希望将语义相关的文本块保持在一起。什么是“语义相关”取决于文本的类型。
这个笔记本展示了几种这样做的方法。

从高层次来看，文本分割器的工作原理如下：

1. 将文本分割成小的、语义上有意义的块（通常是句子）。
2. 开始将这些小块组合成一个更大的块，直到达到某个大小（通过某种函数测量）。
3. 一旦达到该大小，将该块作为自己的文本，并开始创建一个新的块，其中有一些重叠（以保持块之间的上下文）。

这意味着您可以根据两个不同的轴来定制您的文本分割器：

1. 文本如何分割
2. 如何测量块大小

## 文本分割器类型

LangChain提供了许多不同类型的文本分割器。以下是列出的所有它们以及一些特征的表格：

**名称**：文本分割器的名称

**分割方式**：此文本分割器如何分割文本

**添加元数据**：此文本分割器是否添加有关每个块来自何处的元数据。

**描述**：分割器的描述，包括何时使用它的建议。

| 名称     | 分割方式                   | 添加元数据 | 描述                                                         |
| -------- | -------------------------- | ---------- | ------------------------------------------------------------ |
| 递归     | 用户定义的字符列表         |            | 递归分割文本。递归分割文本的目的是尝试将相关的文本块保持在一起。这是开始分割文本的推荐方法。 |
| HTML     | HTML特定字符               | ✅          | 根据HTML特定字符分割文本。值得注意的是，这会添加有关该块来自何处的相关信息（基于HTML） |
| Markdown | Markdown特定字符           | ✅          | 根据Markdown特定字符分割文本。值得注意的是，这会添加有关该块来自何处的相关信息（基于Markdown） |
| 代码     | 代码（Python, JS）特定字符 |            | 根据特定于编程语言的字符分割文本。有15种不同的语言可供选择。 |
| 令牌     | 令牌                       |            | 根据令牌分割文本。存在几种不同的测量令牌的方法。             |
| 字符     | 用户定义的字符             |            | 根据用户定义的字符分割文本。更简单的方法之一。               |

## 评估文本分割器

您可以使用`Greg Kamradt`创建的[Chunkviz实用程序](https://www.chunkviz.com/)评估文本分割器。`Chunkviz`是一个用于可视化您的文本分割器工作原理的很好的工具。它会显示您的文本是如何分割的，并帮助调整分割参数。

## 其他文档转换

文本分割只是在将文档传递给LLM之前可能希望对文档进行的转换的一个例子。前往[Integrations](/docs/integrations/document_transformers/)以获取有关与第三方工具集成的内置文档转换器的文档。